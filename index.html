<html><head><title>E1M1</title>
<script src="https://cdn.rawgit.com/mrdoob/three.js/r74/build/three.min.js"></script>
//<script src="https://cdn.rawgit.com/Ooblik/AltspaceVR-Native-Components-JS/master/js/JSNativeComponents.js"></script>
<script src="https://cdn.rawgit.com/norybiak/UltimateLoader/master/dist/UltimateLoader.min.js"></script>
<script src="dist/altspace.min.js"></script>
<script src="dist/JSNativeComponents.js"></script>

</head><body><script>

var scene = new THREE.Scene();
var renderer = altspace.getThreeJSRenderer();

UltimateLoader.load("https://rawgit.com/evil-doer/evil-doer.github.io/master/models/e1m1.obj", function(object){

//	object.traverse(function(child) {
//		if(child instanceof THREE.Mesh) new NativeComponent('n-mesh-collider', {type: "environment", convex: false}, child);
//	});

var collider = new NativeComponent('n-mesh-collider', {type: "environment", convex: false}, object);

	object.scale = 0.8;
	object.traverse(function(child){
	  child.userData.altspace = {collider:{enabled: false}};
	});

	scene.add(object);
});

UltimateLoader.load("https://rawgit.com/evil-doer/evil-doer.github.io/master/models/ramps.obj", function(object){

	var collider = new NativeComponent('n-mesh-collider', {type: "environment", convex: false}, object.children[0]);

	object.traverse(function(child){
	  child.userData.altspace = {collider:{enabled: false}};
	});
	console.log(object);
	//object.visible = false;
	object.children[0].material.opacity = 0;
	object.children[0].material.transparent = true;

	scene.add(object);
});

function animate(){
	requestAnimationFrame(animate);
	renderer.render(scene);
};

animate();

</script></body></html>
